{"version":3,"sources":["webpack:///src/app/pages/employee_management/add-employee/add-employee-routing.module.ts","webpack:///src/app/pages/employee_management/add-employee/add-employee.module.ts","webpack:///src/app/pages/employee_management/add-employee/add-employee.page.ts","webpack:///src/app/pages/employee_management/add-employee/add-employee.page.scss","webpack:///src/app/pages/employee_management/add-employee/add-employee.page.html"],"names":["routes","path","component","AddEmployeePage","AddEmployeePageRoutingModule","NgModule","imports","RouterModule","exports","AddEmployeePageModule","CommonModule","FormsModule","IonicModule","SharedModule","declarations","toastController","menuCtrl","http","commonUtils","router","activatedRoute","authService","model","editLoading","hideset","imageSrc","formLoading","commonFunction","getPathNameFun","url","split","parms_action_name","snapshot","paramMap","get","parms_action_id","console","log","getroleList_api","form_api","globalparamsData","subscribe","res","authority","permissionDataSubscribe","menuPermissionObservable","data","pageUrlName","item","moduleUrlName","modDetails","modPrivs","create","getroleList","update","editApi","editForm_api","init","navigateByUrl","getroles","roleList","errRes","e","file","dataTransfer","files","target","pattern","reader","FileReader","type","match","alert","fd","FormData","append","post","profilePic","error","presentToast","message","value","_identifier","_date","isntRegDate","format","instEndDate","dob","actionHeaderText","editDataSubscribe","return_data","firstName","lastName","email","mobileNo","role","roleName","uid","password","chkdob","allEditData","form","formValue","valid","formSubmitSubscribe","put","response","status","reset","undefined","unsubscribe","ToastController","MenuController","HttpClient","CommonUtils","Router","ActivatedRoute","AuthService","Component","selector","template"],"mappings":"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","file":"src_app_pages_employee_management_add-employee_add-employee_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddEmployeePage } from './add-employee.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddEmployeePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AddEmployeePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddEmployeePageRoutingModule } from './add-employee-routing.module';\r\n\r\nimport { AddEmployeePage } from './add-employee.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    AddEmployeePageRoutingModule\r\n  ],\r\n  declarations: [AddEmployeePage]\r\n})\r\nexport class AddEmployeePageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MenuController, ToastController } from '@ionic/angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { CommonUtils } from 'src/app/services/common-utils/common-utils';\r\nimport * as moment from 'moment';\r\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-add-employee',\r\n  templateUrl: './add-employee.page.html',\r\n  styleUrls: ['./add-employee.page.scss'],\r\n})\r\n\r\n\r\nexport class AddEmployeePage implements OnInit {\r\n\r\n  /*Variable start*/\r\n  model: any = {};\r\n  parms_action_name;\r\n  parms_action_id;\r\n  editApi;\r\n  editForm_api;\r\n  form_api;\r\n  actionHeaderText;\r\n  editLoading = false;\r\n  private editDataSubscribe: Subscription;\r\n  private formSubmitSubscribe: Subscription;\r\n  private menuPermissionSubscribe: Subscription;\r\n  private getroles:Subscription;\r\n  private permissionDataSubscribe: Subscription;\r\n  allEditData;\r\n  getroleList_api;\r\n  roleList;\r\n  hideset = true;\r\n  /*Variable end*/\r\n\r\n  constructor(\r\n    public toastController: ToastController,\r\n    public menuCtrl: MenuController,\r\n    private http : HttpClient,\r\n    private commonUtils: CommonUtils, // common functionlity come here\r\n    private router: Router,\r\n    private activatedRoute : ActivatedRoute,\r\n    private authService: AuthService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.commonFunction();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.commonFunction();\r\n  }\r\n\r\n  commonFunction(){\r\n    // get active url name\r\n    this.commonUtils.getPathNameFun(this.router.url.split('/')[1]);\r\n    this.parms_action_name = this.activatedRoute.snapshot.paramMap.get('action');\r\n    this.parms_action_id = this.activatedRoute.snapshot.paramMap.get('id');\r\n    \r\n    console.log('parms_action_name', this.parms_action_name);\r\n    console.log('parms_action_id', this.parms_action_id);\r\n\r\n    // get module api\r\n    this.getroleList_api = 'admin/roles';\r\n\r\n    // form_api Api\r\n    this.form_api = 'admin/profile/add';\r\n\r\n    /*Check permission status start*/\r\n    this.authService.globalparamsData.subscribe(res => {\r\n      console.log('res>>', res);\r\n      if(res.authority == 'ADMIN'){\r\n        this.permissionDataSubscribe = this.commonUtils.menuPermissionObservable.subscribe(data => {\r\n          if(data){\r\n            console.log('menu>>', data);\r\n            console.log('this.router.url>>', this.router.url);\r\n    \r\n            let pageUrlName = this.router.url.split(\"/\");\r\n            console.log('pageUrlName', pageUrlName);\r\n            \r\n            for(let item of data) {\r\n              let moduleUrlName = item.modDetails.url.split(\"-\");\r\n              console.log('moduleUrlName',moduleUrlName);\r\n              \r\n              if(pageUrlName[1] == moduleUrlName[0]){\r\n                if(this.parms_action_name == 'add' && item.modPrivs.create == true){\r\n                   console.log('-----Permission create Granted-----');\r\n                   this.getroleList();\r\n                  break;\r\n                }else if(this.parms_action_name == 'edit' && item.modPrivs.update == true){\r\n                  console.log('-----Permission update Granted-----');\r\n                  this.getroleList();\r\n                  this.editApi = 'admin/profile/'+this.parms_action_id;\r\n                  // form api\r\n                  this.editForm_api = 'admin/profile/update'\r\n                  // init call\r\n                  this.init();\r\n\r\n                  break;\r\n                }else {\r\n                  console.log('-------No Permission--------');\r\n                  this.router.navigateByUrl('/error');\r\n                }\r\n                \r\n              }\r\n            }\r\n          }\r\n        })\r\n      }else {\r\n        this.router.navigateByUrl('/error');\r\n      }\r\n    })\r\n    /*Check permission status end*/\r\n  }\r\n\r\n  /* -------------Get roles start------------- */\r\n  getroleList(){\r\n    this.editLoading = true;\r\n    this.getroles = this.http.get(this.getroleList_api).subscribe(\r\n        (res:any) => {\r\n          this.roleList = res; \r\n          console.log(\"Get roleList\",this.roleList);\r\n          \r\n          this.editLoading = false;\r\n        },\r\n        errRes => {\r\n           console.log(\"Get roleList >\", errRes); \r\n           this.editLoading = false; \r\n        }\r\n      );\r\n  }\r\n  /*Get roles end */\r\n\r\n  /* -----------Image uploading start----------- */\r\n  public imageSrc: string = '';\r\n\r\n  handleInputChange(e) {\r\n    var file = e.dataTransfer ? e.dataTransfer.files[0] : e.target.files[0];\r\n    var pattern = /image-*/;\r\n    var reader = new FileReader();\r\n    if (!file.type.match(pattern)) {\r\n      alert('invalid format');\r\n      return;\r\n    }\r\n    var fd = new FormData();  \r\n    fd.append(\"file\", e.target.files[0]);\r\n    this.http.post(\"admin/profile/s3/upload\",fd).subscribe(\r\n      (res:any) => {\r\n        this.imageSrc = res.path;\r\n        this.model.profilePic = res.path;\r\n        console.log(\"profileimgpath\",this.imageSrc);\r\n        // this.commonUtils.presentToast('success', res.message);\r\n      },\r\n      (error) =>{\r\n        console.log(\"error\",error);\r\n        this.commonUtils.presentToast('error', error.error.message);\r\n      })\r\n  }\r\n  /* Image uploading end */\r\n\r\n  /* Default select start */\r\n  ngsel(value)\r\n  {\r\n     console.log('Select >>>', value);\r\n  }  \r\n\r\n  // Date format change start\r\n  changeDateFormat(_identifier, _date){\r\n    console.log('_date', _date);\r\n    console.log('_identifier', _identifier);\r\n\r\n    if(_identifier == 'registrationDate') {\r\n      this.model.isntRegDate = moment(_date).format('YYYY/MM/DD');\r\n    }else if(_identifier == 'establishmentDate'){\r\n      this.model.instEndDate = moment(_date).format('YYYY/MM/DD');\r\n    }else if(_identifier == 'dateOfBirth'){\r\n      this.model.dob = moment(_date).format('YYYY/MM/DD');\r\n    }\r\n    \r\n    \r\n    console.log('model.isntRegDate', this.model.isntRegDate);\r\n\r\n  }\r\n  // Date format change end\r\n  \r\n  // ---------- init start ----------\r\n  init(){\r\n    if( this.parms_action_name == 'edit'){\r\n      this.actionHeaderText = 'Edit';\r\n\r\n      this.editLoading = true;\r\n      //edit data call\r\n      this.editDataSubscribe = this.http.get(this.editApi).subscribe(\r\n        (res:any) => {\r\n          this.editLoading = false;\r\n          console.log(\"Edit data  res >\", res.return_data);\r\n          this.model = {\r\n            firstName : res.firstName,\r\n            lastName : res.lastName,\r\n            dob : res.dob,\r\n            email : res.email,\r\n            mobileNo : res.mobileNo,\r\n            role : res.role,\r\n            roleName : res.roleName,\r\n            uid : res.uid,\r\n            profilePic : res.profilePic,\r\n            password : res.password,\r\n          }; \r\n\r\n          this.imageSrc =  res.profilePic;\r\n          // this.ngsel(this.model.instId);\r\n          this.model.chkdob = moment(res.dob).format('YYYY-MM-DD');\r\n          console.log('this.model.creatDate', this.model);\r\n          \r\n\r\n          // edit data\r\n          this.allEditData = res;\r\n          console.log('this.allEditData', this.allEditData);\r\n          \r\n        },\r\n        errRes => {\r\n          // this.selectLoadingDepend = false;\r\n          this.editLoading = false;\r\n        }\r\n      );\r\n\r\n    }else{\r\n      this.actionHeaderText = 'Add';\r\n    }\r\n  }\r\n  // ---------- init end ----------\r\n\r\n  // ======================== form submit start ===================\r\n  formLoading = false;\r\n  onSubmitForm(form:NgForm){\r\n    console.log(\"add form submit >\", form.value);\r\n    this.formLoading = true;\r\n\r\n    let formValue = form.value;\r\n    \r\n    console.log('formValue', formValue);\r\n\r\n    if(!form.valid){\r\n      return;\r\n    }\r\n\r\n    if(this.parms_action_name == 'edit'){\r\n      this.formSubmitSubscribe = this.http.put(this.editForm_api, form.value).subscribe(\r\n        (response:any) => {\r\n          this.formLoading = false;\r\n          console.log(\"add form response >\", response);\r\n  \r\n          if(response.status == 200){\r\n            this.router.navigateByUrl('employee-list');\r\n            this.commonUtils.presentToast('success', response.message);\r\n            form.reset();\r\n          }else {\r\n            this.commonUtils.presentToast('error', response.message);\r\n          }\r\n        },\r\n        errRes => {\r\n          this.formLoading = false;\r\n          this.commonUtils.presentToast('error', errRes.message);\r\n        }\r\n      );\r\n    }else if(this.parms_action_name == 'add'){\r\n      this.formSubmitSubscribe = this.http.post(this.form_api, form.value).subscribe(\r\n        (response:any) => {\r\n          this.formLoading = false;\r\n          console.log(\"add form response >\", response);\r\n  \r\n          if(response.status == 200){\r\n            this.router.navigateByUrl('employee-list');\r\n            this.commonUtils.presentToast('success', response.message);\r\n            form.reset();\r\n\r\n            this.getroleList();\r\n          }else {\r\n            this.commonUtils.presentToast('error', response.message);\r\n          }\r\n        },\r\n        errRes => {\r\n          this.formLoading = false;\r\n          this.commonUtils.presentToast('error', errRes.error.message);\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n  // form submit end\r\n\r\n  // ----------- destroy subscription start ---------\r\n  ngOnDestroy() {\r\n    if(this.formSubmitSubscribe !== undefined){\r\n      this.formSubmitSubscribe.unsubscribe();\r\n    }\r\n    if(this.editDataSubscribe !== undefined ){\r\n      this.editDataSubscribe.unsubscribe();\r\n    }\r\n    if(this.permissionDataSubscribe !== undefined){\r\n      this.permissionDataSubscribe.unsubscribe();\r\n    }\r\n  }\r\n  // destroy subscription end\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtZW1wbG95ZWUucGFnZS5zY3NzIn0= */\";","export default \"<!-- common header show -->\\r\\n<common-header></common-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"page-body\\\">\\r\\n    <div class=\\\"page-wrapper\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                    <div class=\\\"page-header-left\\\">\\r\\n                        <h3>{{parms_action_name}} Employee\\r\\n                            <!-- <small>Divatt Admin panel</small> -->\\r\\n                        </h3>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                  <ol class=\\\"breadcrumb float-right\\\">\\r\\n                      <li class=\\\"breadcrumb-item\\\"><a [routerLink]=\\\"'/dashboard'\\\">\\r\\n                              <mat-icon>home</mat-icon>\\r\\n                          </a></li>\\r\\n                      <li class=\\\"breadcrumb-item\\\" >\\r\\n                        Employee Management\\r\\n                      </li>\\r\\n                      <li class=\\\"breadcrumb-item active\\\">\\r\\n                        {{parms_action_name}} Employee\\r\\n                      </li>\\r\\n                  </ol>\\r\\n              </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-layout\\\">\\r\\n      <div class=\\\"form-wrapper\\\">\\r\\n        <div class=\\\"card card-box\\\">\\r\\n          <!-- <div class=\\\"card-header\\\">\\r\\n            <div class=\\\"card-header-tittle\\\">\\r\\n              {{parms_action_name}} Employee\\r\\n            </div>\\r\\n          </div> -->\\r\\n          <form action=\\\"\\\" #addForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmitForm(addForm)\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <!-- Hidden data -->\\r\\n              <input *ngIf=\\\"parms_action_name =='edit'\\\" type=\\\"hidden\\\" name=\\\"uid\\\" [(ngModel)]=\\\"model.uid\\\">\\r\\n              <input *ngIf=\\\"parms_action_name =='edit'\\\" type=\\\"hidden\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\">\\r\\n              <ion-grid>\\r\\n                <ion-row>\\r\\n                  <!-- First name -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                        <mat-label>First Name</mat-label>\\r\\n                        <input matInput  name=\\\"firstName\\\" [(ngModel)] = \\\"model.firstName\\\" required pattern=\\\"\\\\S(.*\\\\S)?\\\">\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Last name -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                        <mat-label>Last Name</mat-label>\\r\\n                        <input matInput  name=\\\"lastName\\\" [(ngModel)] = \\\"model.lastName\\\" required pattern=\\\"\\\\S(.*\\\\S)?\\\">\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Date of birth -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-item\\\">\\r\\n                      <mat-form-field appearance=\\\"outline\\\">\\r\\n                        <mat-label>Date of Birth</mat-label>\\r\\n                        <input (change)=\\\"changeDateFormat('dateOfBirth', model.chkdob)\\\" matInput placeholder=\\\"Date of Birth\\\" type=\\\"date\\\" name=\\\"chkdob\\\" [(ngModel)]=\\\"model.chkdob\\\" required>\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Hidden -->\\r\\n                  <input type=\\\"hidden\\\" name=\\\"dob\\\" [(ngModel)]=\\\"model.dob\\\" required>\\r\\n                  <!-- Mobile Number -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <mat-form-field appearance=\\\"outline\\\">\\r\\n                        <mat-label>Mobile Number</mat-label>\\r\\n                        <input matInput min=\\\"1\\\" type=\\\"number\\\"  pattern=\\\"^((\\\\\\\\+91-?)|0)?[0-9]{10}$\\\"  onKeyPress=\\\"if(this.value.length==10) {return false;}\\\" maxlength=\\\"10\\\" name=\\\"mobileNo\\\" [(ngModel)]=\\\"model.mobileNo\\\" required>\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Email -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <mat-form-field appearance=\\\"outline\\\">\\r\\n                        <mat-label>Email</mat-label>\\r\\n                        <input matInput type=\\\"email\\\" name=\\\"email\\\" [(ngModel)]=\\\"model.email\\\" pattern=\\\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$\\\" email required>\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Password -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\" *ngIf=\\\"parms_action_name =='add'\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <mat-form-field appearance=\\\"outline\\\">\\r\\n                        <mat-label>Password</mat-label>\\r\\n                        <input matInput [type]=\\\"hideset ? 'password' : 'text'\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" required>\\r\\n                        <button mat-icon-button matSuffix (click)=\\\"hideset = !hideset\\\" [attr.aria-label]=\\\"'Hide password'\\\" [attr.aria-pressed]=\\\"hideset\\\">\\r\\n                          <mat-icon>{{hideset ? 'visibility_off' : 'visibility'}}</mat-icon>\\r\\n                        </button>\\r\\n                      </mat-form-field>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Role -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-item ngsel\\\">\\r\\n                      <ng-select [items]=\\\"roleList\\\" \\r\\n                              bindLabel=\\\"roleName\\\" \\r\\n                              name=\\\"role\\\"\\r\\n                              placeholder=\\\"Select Role\\\"\\r\\n                              bindValue=\\\"roleKey\\\" \\r\\n                              [(ngModel)]=\\\"model.role\\\"\\r\\n                              (change)=\\\"ngsel(model.role)\\\"\\r\\n                              required>\\r\\n                      </ng-select>\\r\\n                      <label>Role <sup>*</sup> </label>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Hidden -->\\r\\n                  <input type=\\\"hidden\\\" name=\\\"roleName\\\" [(ngModel)]=\\\"model.role\\\">\\r\\n                  <!-- Profile Picture -->\\r\\n                  <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                    <div class=\\\"form-item\\\">\\r\\n                      <div class=\\\"custom-file\\\">\\r\\n                        <input class=\\\"custom-file-input\\\" id=\\\"singleFileUpload\\\" type=\\\"file\\\" name=\\\"imageUrl\\\" accept=\\\"image/*\\\" (change)=\\\"handleInputChange($event)\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"singleFileUpload\\\">Choose file</label>\\r\\n                        <img [src]=\\\"imageSrc\\\"/>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ion-col>\\r\\n                  <!-- Hidden -->\\r\\n                  <input type=\\\"hidden\\\" name=\\\"profilePic\\\" [(ngModel)]=\\\"model.profilePic\\\" required>\\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </div>\\r\\n    \\r\\n            <div class=\\\"card-footer\\\">\\r\\n              <div></div>\\r\\n              <div>\\r\\n                <ion-button class=\\\"custom-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!addForm.valid\\\">\\r\\n                  <ion-spinner *ngIf=\\\"formLoading\\\" slot=\\\"start\\\" name=\\\"crescent\\\"></ion-spinner>\\r\\n                  Save\\r\\n                </ion-button>\\r\\n                <ion-button color=\\\"danger\\\" [routerLink]=\\\"['/', 'employee-list']\\\" >\\r\\n                  Cancel\\r\\n                </ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </form>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<!-- common footer show -->\\r\\n<common-footer></common-footer>\\r\\n\";"]}