{"version":3,"sources":["webpack:///src/app/pages/role_management/add-role/add-role-routing.module.ts","webpack:///src/app/pages/role_management/add-role/add-role.module.ts","webpack:///src/app/pages/role_management/add-role/add-role.page.ts","webpack:///src/app/pages/role_management/add-role/add-role.page.scss","webpack:///src/app/pages/role_management/add-role/add-role.page.html"],"names":["routes","path","component","AddRolePage","AddRolePageRoutingModule","NgModule","imports","RouterModule","exports","AddRolePageModule","CommonModule","FormsModule","IonicModule","SharedModule","declarations","toastController","menuCtrl","http","commonUtils","router","activatedRoute","authService","model","editLoading","formLoading","commonFunction","getPathNameFun","url","split","parms_action_name","snapshot","paramMap","get","parms_action_id","console","log","getmoduleList_api","form_api","globalparamsData","subscribe","res","authority","permissionDataSubscribe","menuPermissionObservable","data","pageUrlName","item","moduleUrlName","modDetails","modPrivs","create","getmoduleList","update","editApi","init","navigateByUrl","getmodules","moduleList","errRes","actionHeaderText","editDataSubscribe","return_data","roleName","modules","creatDate","lcCreatDate","format","allEditData","form","value","formValue","length","modules0modName","index","push","formAllData","valid","formSubmitSubscribe","post","editForm_api","response","status","presentToast","message","reset","undefined","unsubscribe","ToastController","MenuController","HttpClient","CommonUtils","Router","ActivatedRoute","AuthService","Component","selector","template"],"mappings":"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","file":"src_app_pages_role_management_add-role_add-role_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddRolePage } from './add-role.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddRolePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AddRolePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddRolePageRoutingModule } from './add-role-routing.module';\r\n\r\nimport { AddRolePage } from './add-role.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    AddRolePageRoutingModule\r\n  ],\r\n  declarations: [AddRolePage]\r\n})\r\nexport class AddRolePageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MenuController, ToastController } from '@ionic/angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { CommonUtils } from 'src/app/services/common-utils/common-utils';\r\nimport * as moment from 'moment';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-add-role',\r\n  templateUrl: './add-role.page.html',\r\n  styleUrls: ['./add-role.page.scss'],\r\n})\r\nexport class AddRolePage implements OnInit {\r\n\r\n  /*Variable start*/\r\n  model: any = {};\r\n  parms_action_name;\r\n  parms_action_id;\r\n  editApi;\r\n  editForm_api;\r\n  form_api;\r\n  actionHeaderText;\r\n  editLoading = false;\r\n  private editDataSubscribe: Subscription;\r\n  private formSubmitSubscribe: Subscription;\r\n  private getmodules:Subscription;\r\n  private permissionDataSubscribe: Subscription;\r\n  allEditData;\r\n  getmoduleList_api;\r\n  moduleList;\r\n  /*Variable end*/\r\n\r\n  constructor(\r\n    public toastController: ToastController,\r\n    public menuCtrl: MenuController,\r\n    private http : HttpClient,\r\n    private commonUtils: CommonUtils, // common functionlity come here\r\n    private router: Router,\r\n    private activatedRoute : ActivatedRoute,\r\n    private authService: AuthService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.commonFunction();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.commonFunction();\r\n  }\r\n\r\n  commonFunction(){\r\n    // get active url name\r\n    this.commonUtils.getPathNameFun(this.router.url.split('/')[1]);\r\n    this.parms_action_name = this.activatedRoute.snapshot.paramMap.get('action');\r\n    this.parms_action_id = this.activatedRoute.snapshot.paramMap.get('id');\r\n    \r\n    console.log('parms_action_name', this.parms_action_name);\r\n    console.log('parms_action_id', this.parms_action_id);\r\n\r\n    // get module api\r\n    this.getmoduleList_api = 'admin/modules';\r\n\r\n    // form_api Api\r\n    this.form_api = 'admin/role';\r\n\r\n    /*Check permission status start*/\r\n    this.authService.globalparamsData.subscribe(res => {\r\n      console.log('res>>', res);\r\n      if(res.authority == 'ADMIN'){\r\n        this.permissionDataSubscribe = this.commonUtils.menuPermissionObservable.subscribe(data => {\r\n          if(data){\r\n            console.log('menu>>', data);\r\n            console.log('this.router.url>>', this.router.url);\r\n    \r\n            let pageUrlName = this.router.url.split(\"/\");\r\n            console.log('pageUrlName', pageUrlName);\r\n            \r\n            for(let item of data) {\r\n              let moduleUrlName = item.modDetails.url.split(\"-\");\r\n              console.log('moduleUrlName',moduleUrlName);\r\n              \r\n              if(pageUrlName[1] == moduleUrlName[0]){\r\n                if(this.parms_action_name == 'add' && item.modPrivs.create == true){\r\n                   console.log('-----Permission create Granted-----');\r\n                   this.getmoduleList();\r\n                  break;\r\n                }else if(this.parms_action_name == 'edit' && item.modPrivs.update == true){\r\n                  console.log('-----Permission update Granted-----');\r\n                  this.editApi = 'admin/role/'+this.parms_action_id;\r\n\r\n                  // init call\r\n                  this.init();\r\n                  this.getmoduleList();\r\n                  break;\r\n                }else {\r\n                  console.log('-------No Permission--------');\r\n                  this.router.navigateByUrl('/error');\r\n                }\r\n                \r\n              }\r\n            }\r\n          }\r\n        })\r\n      }else {\r\n        this.router.navigateByUrl('/error');\r\n      }\r\n    })\r\n    /*Check permission status end*/\r\n  }\r\n\r\n  /* -------------Get modules start------------- */\r\n  getmoduleList(){\r\n    this.editLoading = true;\r\n    this.getmodules = this.http.get(this.getmoduleList_api).subscribe(\r\n        (res:any) => {\r\n          this.moduleList = res; \r\n          console.log(\"Get moduleList\",this.moduleList);\r\n          \r\n          this.editLoading = false;\r\n        },\r\n        errRes => {\r\n           console.log(\"Get moduleList >\", errRes); \r\n           this.editLoading = false; \r\n        }\r\n      );\r\n  }\r\n  /*Get modules end */\r\n  \r\n  // ---------- init start ----------\r\n  init(){\r\n    if( this.parms_action_name == 'edit'){\r\n      this.actionHeaderText = 'Edit';\r\n\r\n      this.editLoading = true;\r\n      //edit data call\r\n      this.editDataSubscribe = this.http.get(this.editApi).subscribe(\r\n        (res:any) => {\r\n          this.editLoading = false;\r\n          console.log(\"Edit data  res >\", res.return_data);\r\n          this.model = {\r\n            roleName : res.roleName,\r\n            modules: res.modules\r\n          }; \r\n          console.log('modules', this.model.modules);\r\n          \r\n          // this.ngsel(this.model.instId);\r\n          this.model.creatDate = moment(res.lcCreatDate).format('YYYY-MM-DD');\r\n          console.log('this.model.creatDate', this.model);\r\n          \r\n\r\n          // edit data\r\n          this.allEditData = res;\r\n          console.log('this.allEditData', this.allEditData);\r\n          \r\n        },\r\n        errRes => {\r\n          // this.selectLoadingDepend = false;\r\n          this.editLoading = false;\r\n        }\r\n      );\r\n\r\n    }else{\r\n      this.actionHeaderText = 'Add';\r\n    }\r\n  }\r\n  // ---------- init end ----------\r\n\r\n  // ======================== form submit start ===================\r\n  formLoading = false;\r\n  onSubmitForm(form:NgForm){\r\n    console.log(\"add form submit >\", form.value);\r\n    this.formLoading = true;\r\n\r\n    let formValue = form.value;\r\n    \r\n    console.log('formValue', formValue);\r\n\r\n    let modules=[];\r\n    console.log('formValue.length', formValue.length);\r\n    console.log('formValue.modules[index].modName', formValue.modules0modName);\r\n    \r\n\r\n    for (let index = 0; index < formValue.length; index++) {\r\n      \r\n      modules.push({\r\n        \"modName\": formValue[`modules`+index+`modName`],\r\n        \"modPrivs\":{\r\n          \"create\": formValue[`modules`+index+`create`],\r\n          \"update\": formValue[`modules`+index+`update`],\r\n          \"list\": formValue[`modules`+index+`list`],\r\n          \"delete\": formValue[`modules`+index+`delete`]\r\n        }\r\n      });\r\n      \r\n    }\r\n    console.log('modules', modules);\r\n\r\n    let formAllData = {\r\n      \"roleName\": formValue.roleName,\r\n      \"modules\": modules\r\n    };\r\n\r\n\r\n    console.log('formAllData',formAllData);\r\n    \r\n\r\n    if(!form.valid){\r\n      return;\r\n    }\r\n\r\n    if(this.parms_action_name == 'edit'){\r\n      this.formSubmitSubscribe = this.http.post(this.editForm_api, formAllData).subscribe(\r\n        (response:any) => {\r\n          this.formLoading = false;\r\n          console.log(\"add form response >\", response);\r\n  \r\n          if(response.status == 200){\r\n            this.router.navigateByUrl('role-list');\r\n            this.commonUtils.presentToast('success', response.message);\r\n            form.reset();\r\n          }else {\r\n            this.commonUtils.presentToast('error', response.message);\r\n          }\r\n        },\r\n        errRes => {\r\n          this.formLoading = false;\r\n        }\r\n      );\r\n    }else if(this.parms_action_name == 'add'){\r\n      this.formSubmitSubscribe = this.http.post(this.form_api, formAllData).subscribe(\r\n        (response:any) => {\r\n          this.formLoading = false;\r\n          console.log(\"add form response >\", response);\r\n  \r\n          if(response.status == 200){\r\n            this.router.navigateByUrl('role-list');\r\n            this.commonUtils.presentToast('success', response.message);\r\n            form.reset();\r\n\r\n            this.getmoduleList();\r\n          }else {\r\n            this.commonUtils.presentToast('error', response.message);\r\n          }\r\n        },\r\n        errRes => {\r\n          this.formLoading = false;\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n  // form submit end\r\n\r\n  // ----------- destroy subscription start ---------\r\n  ngOnDestroy() {\r\n    if(this.formSubmitSubscribe !== undefined){\r\n      this.formSubmitSubscribe.unsubscribe();\r\n    }\r\n    if(this.editDataSubscribe !== undefined ){\r\n      this.editDataSubscribe.unsubscribe();\r\n    }\r\n    if(this.permissionDataSubscribe !== undefined){\r\n      this.permissionDataSubscribe.unsubscribe();\r\n    }\r\n  }\r\n  // destroy subscription end\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtcm9sZS5wYWdlLnNjc3MifQ== */\";","export default \"<!-- common header show -->\\r\\n<common-header></common-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"page-body\\\">\\r\\n    <div class=\\\"page-wrapper\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                    <div class=\\\"page-header-left\\\">\\r\\n                        <h3>{{parms_action_name}} Role\\r\\n                            <!-- <small>Divatt Admin panel</small> -->\\r\\n                        </h3>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                  <ol class=\\\"breadcrumb float-right\\\">\\r\\n                      <li class=\\\"breadcrumb-item\\\"><a [routerLink]=\\\"'/dashboard'\\\">\\r\\n                              <mat-icon>home</mat-icon>\\r\\n                          </a></li>\\r\\n                      <li class=\\\"breadcrumb-item\\\" >\\r\\n                        Role Management\\r\\n                      </li>\\r\\n                      <li class=\\\"breadcrumb-item active\\\">\\r\\n                        {{parms_action_name}} Role\\r\\n                      </li>\\r\\n                  </ol>\\r\\n              </div>\\r\\n            </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-layout\\\">\\r\\n        <div class=\\\"form-wrapper\\\">\\r\\n          <div class=\\\"card card-box\\\">\\r\\n            <!-- <div class=\\\"card-header\\\">\\r\\n                <div class=\\\"card-header-tittle\\\">\\r\\n                  {{parms_action_name}} Role\\r\\n                </div>\\r\\n            </div> -->\\r\\n            <form action=\\\"\\\" #addForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmitForm(addForm)\\\">\\r\\n              <div class=\\\"card-body\\\">\\r\\n                <ion-grid>\\r\\n                  <ion-row>\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"4\\\"  size-lg=\\\"4\\\">\\r\\n                      <!-- Role name -->\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                          <mat-label>Role Name</mat-label>\\r\\n                          <input matInput  name=\\\"roleName\\\" [(ngModel)]=\\\"model.roleName\\\" required pattern=\\\"\\\\S(.*\\\\S)?\\\">\\r\\n                        </mat-form-field>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\"  size-lg=\\\"12\\\">\\r\\n                      <h2>Role Permissions</h2>\\r\\n                      <div class=\\\"table-responsive \\\">\\r\\n                        <table>\\r\\n                          <thead>\\r\\n                            <th>Module Name</th>\\r\\n                            <th>List</th>\\r\\n                            <th>Create</th>\\r\\n                            <th>Update</th>\\r\\n                            <th>Delete</th>\\r\\n                          </thead>\\r\\n                          <tbody>\\r\\n                            <tr *ngFor=\\\"let item of moduleList?.adminModules; let i = index; let first = first;\\\" >\\r\\n                              <td>\\r\\n                                {{item?.title}} \\r\\n                                <input type=\\\"hidden\\\" name=\\\"modules{{i}}modName\\\" [(ngModel)]=\\\"item.title_code\\\">\\r\\n                                <input type=\\\"hidden\\\" name=\\\"length\\\" [(ngModel)]=\\\"moduleList.adminModules.length\\\">\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <mat-slide-toggle\\r\\n                                class=\\\"example-margin\\\"\\r\\n                                name=\\\"modules{{i}}list\\\"\\r\\n                                [(ngModel)] = \\\"item.list\\\"\\r\\n                                [checked]=\\\"item.list\\\"\\r\\n                                ></mat-slide-toggle>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <mat-slide-toggle\\r\\n                                class=\\\"example-margin\\\"\\r\\n                                name=\\\"modules{{i}}create\\\"\\r\\n                                [(ngModel)] = \\\"item.create\\\"\\r\\n                                [checked]=\\\"item.create\\\"\\r\\n                                ></mat-slide-toggle>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <mat-slide-toggle\\r\\n                                class=\\\"example-margin\\\"\\r\\n                                name=\\\"modules{{i}}update\\\"\\r\\n                                [(ngModel)] = \\\"item.update\\\"\\r\\n                                [checked]=\\\"item.update\\\"\\r\\n                                ></mat-slide-toggle>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <mat-slide-toggle\\r\\n                                class=\\\"example-margin\\\"\\r\\n                                name=\\\"modules{{i}}delete\\\"\\r\\n                                [(ngModel)] = \\\"item.delete\\\"\\r\\n                                [checked]=\\\"item.delete\\\"\\r\\n                                ></mat-slide-toggle>\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                          </tbody>\\r\\n                        </table>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                  </ion-row>\\r\\n                </ion-grid>\\r\\n              </div>\\r\\n      \\r\\n              <div class=\\\"card-footer\\\">\\r\\n                <div></div>\\r\\n                <div>\\r\\n                  <ion-button class=\\\"custom-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!addForm.valid\\\">\\r\\n                    <ion-spinner *ngIf=\\\"formLoading\\\" slot=\\\"start\\\" name=\\\"crescent\\\"></ion-spinner>\\r\\n                    Save\\r\\n                  </ion-button>\\r\\n                  <ion-button color=\\\"danger\\\" [routerLink]=\\\"['/', 'role-list']\\\">\\r\\n                    Cancel\\r\\n                  </ion-button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </form>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    \\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<!-- common footer show -->\\r\\n<common-footer></common-footer>\\r\\n\";"]}