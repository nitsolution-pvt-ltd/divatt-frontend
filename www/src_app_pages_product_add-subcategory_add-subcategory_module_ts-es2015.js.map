{"version":3,"sources":["./src/app/pages/product/add-subcategory/add-subcategory-routing.module.ts","./src/app/pages/product/add-subcategory/add-subcategory.module.ts","./src/app/pages/product/add-subcategory/add-subcategory.page.ts","./src/app/pages/product/add-subcategory/add-subcategory.page.scss","./src/app/pages/product/add-subcategory/add-subcategory.page.html"],"names":[],"mappings":"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","file":"src_app_pages_product_add-subcategory_add-subcategory_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddSubcategoryPage } from './add-subcategory.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddSubcategoryPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AddSubcategoryPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddSubcategoryPageRoutingModule } from './add-subcategory-routing.module';\r\n\r\nimport { AddSubcategoryPage } from './add-subcategory.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    AddSubcategoryPageRoutingModule\r\n  ],\r\n  declarations: [AddSubcategoryPage]\r\n})\r\nexport class AddSubcategoryPageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { CommonUtils } from 'src/app/services/common-utils/common-utils';\r\n\r\n@Component({\r\n  selector: 'app-add-subcategory',\r\n  templateUrl: './add-subcategory.page.html',\r\n  styleUrls: ['./add-subcategory.page.scss'],\r\n})\r\nexport class AddSubcategoryPage implements OnInit {\r\n\r\n  private getsubCategorybyIdSubscribe:Subscription;\r\n  private addsubCategorySubscribe: Subscription;\r\n  private getCategoryListSubscribe: Subscription;\r\n  private permissionDataSubscribe: Subscription;\r\n  loader: boolean;\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private http:HttpClient,\r\n    private router:Router,\r\n    private commonUtils:CommonUtils,\r\n    private authService: AuthService,\r\n    ) { }\r\n  model: any = {};\r\n  categoryImage: any;\r\n  mobileImage: any;\r\n  allcategorydata: { };\r\n  categoryslist;\r\n  nofile: boolean;\r\n  imgerror: string;\r\n  btnloader: boolean;\r\n  parms_action_name;\r\n  parms_action_id;\r\n  ngOnInit() {\r\n  }\r\n  ionViewWillEnter() {\r\n    this.commonFunction();\r\n  }\r\n  // commonFunction start\r\n  commonFunction()\r\n  {\r\n    // get active url name\r\n    this.commonUtils.getPathNameFun(this.router.url.split('/')[1]);\r\n    this.parms_action_name = this.activatedRoute.snapshot.paramMap.get('action');\r\n    this.parms_action_id = this.activatedRoute.snapshot.paramMap.get('id');\r\n    \r\n    // console.log('parms_action_name', this.parms_action_name);\r\n    // console.log('parms_action_id', this.parms_action_id);\r\n    this.getcategoryList();\r\n\r\n    /*Check permission status start*/\r\n    this.authService.globalparamsData.subscribe(res => {\r\n      // console.log('res>>', res);\r\n      if(res.authority == 'ADMIN'){\r\n        this.permissionDataSubscribe = this.commonUtils.menuPermissionObservable.subscribe(data => {\r\n          if(data){\r\n            // console.log('menu>>', data);\r\n            // console.log('this.router.url>>', this.router.url);\r\n    \r\n            let pageUrlName = this.router.url.split(\"/\");\r\n            // console.log('pageUrlName', pageUrlName);\r\n            \r\n            for(let item of data) {\r\n              let moduleUrlName = item.modDetails.url.split(\"-\");\r\n              // console.log('moduleUrlName',moduleUrlName);\r\n              \r\n              if(pageUrlName[1] == moduleUrlName[0]){\r\n                if(this.parms_action_name == 'add' && item.modPrivs.create == true){\r\n                   // console.log('-----Permission create Granted-----');\r\n\r\n                  break;\r\n                }else if(this.parms_action_name == 'edit' && item.modPrivs.update == true){\r\n                  // console.log('-----Permission update Granted-----');\r\n                  this.getcatById();\r\n                  break;\r\n                }else {\r\n                  // console.log('-------No Permission--------');\r\n                  this.router.navigateByUrl('/error');\r\n                }\r\n                \r\n              }\r\n            }\r\n          }\r\n        })\r\n      }else {\r\n        this.router.navigateByUrl('/error');\r\n      }\r\n    })\r\n    /*Check permission status end*/\r\n  }\r\n  // commonFunction end\r\n  // getcatById start\r\n  getcatById()\r\n  {\r\n    this.loader = true;\r\n    this.getsubCategorybyIdSubscribe = this.http.get(\"subcategory/view/\"+this.parms_action_id).subscribe(\r\n      (res:any) => {\r\n      this.loader = false;\r\n\r\n        this.model = {\r\n          categoryName:         res.categoryName,\r\n          categoryDescription:  res.categoryDescription,\r\n          categoryImage:        res.categoryImage,\r\n          id:                   res.id,\r\n          createdBy:            res.createdBy,\r\n          parentId:             parseInt(res.parentId),\r\n        }\r\n        this.imageSrc = res.categoryImage;\r\n        this.previewimageSrc = res.categoryImage;\r\n        // console.log(\"this.model\",this.model);\r\n        \r\n      },\r\n      (error) =>{\r\n        this.loader = false;\r\n        // console.log(\"error\",error);\r\n      })\r\n  }\r\n  // getcatById end\r\n    /* -----------Image uploading start----------- */\r\n    public imageSrc: string = '';\r\n    public previewimageSrc: string = '';\r\n    handleInputChange(e) {\r\n      var file = e.dataTransfer ? e.dataTransfer.files[0] : e.target.files[0];\r\n      var pattern = /image-*/;\r\n      var reader = new FileReader();\r\n      if (!file.type.match(pattern)) {\r\n        alert('invalid format');\r\n        return;\r\n      }\r\n      this.imageSrc= e.target.files[0];\r\n      var fd = new FormData();  \r\n      fd.append(\"file\", e.target.files[0]);\r\n      this.http.post(\"admin/profile/s3/upload\",fd).subscribe(\r\n        (res:any) => {\r\n          this.imageSrc = res.path;\r\n          this.previewimageSrc = res.path;\r\n          this.model.categoryImage = res.path;\r\n          // console.log(\"profileimgpath\",this.imageSrc);\r\n          // this.commonUtils.presentToast('success', res.message);\r\n        },\r\n        (error) =>{\r\n          // console.log(\"error\",error);\r\n          this.commonUtils.presentToast('error', error.error.message);\r\n        })\r\n      reader.onload = this._handleReaderLoaded.bind(this);\r\n      reader.readAsDataURL(file);\r\n    }\r\n    _handleReaderLoaded(e) {\r\n      let reader = e.target;\r\n        this.previewimageSrc = reader.result;\r\n      // console.log(\"imageSrc1\",this.imageSrc);\r\n    }\r\n    /* Image uploading end */\r\n  // form submit start\r\n  onSubmitsubCategoryForm(form:NgForm)\r\n  {\r\n    this.btnloader = true;\r\n    // add api start\r\n    if(this.parms_action_name == 'add')\r\n    {\r\n      // set all value\r\n        this.allcategorydata={\r\n          categoryDescription:form.value.categoryDescription,\r\n          categoryName:form.value.categoryName,\r\n          parentId:form.value.parentId,\r\n          categoryImage:this.imageSrc,\r\n          level:0,\r\n          // createdBy:this.categoryModel.createdBy,\r\n          createdBy:'Admin',\r\n        }\r\n        // set all val\r\n        var fd = new FormData();  \r\n        fd.append(\"categoryImage\", this.imageSrc);\r\n      this.addsubCategorySubscribe = this.http.post('subcategory/add',this.allcategorydata).subscribe((res:any) =>{\r\n          // window.location.reload();\r\n          // console.log(\"allcategorydata\",this.allcategorydata,\"response\",res);\r\n          this.router.navigateByUrl('/subcategory-list')\r\n          this.btnloader = false;\r\n          this.commonUtils.presentToast('success', res.message);\r\n          form.reset();\r\n          },error =>{\r\n            this.btnloader = false;\r\n            // console.log(error);\r\n            this.commonUtils.presentToast('error', error.error.message);\r\n        })\r\n    }\r\n    // add api end\r\n    // edit api start\r\n    else if(this.parms_action_name == 'edit')\r\n    {\r\n      // console.log(\"else\",this.imageSrc,this.model.categoryImage);      \r\n        this.allcategorydata={\r\n          categoryDescription:form.value.categoryDescription,\r\n          categoryName:form.value.categoryName,\r\n          categoryImage:this.imageSrc,\r\n          level:0,\r\n          id:this.model.id,\r\n          parentId:form.value.parentId,\r\n          createdBy:this.model.createdBy,\r\n          \r\n        }\r\n      \r\n      // console.log(\"this.allcategorydata\",this.allcategorydata);\r\n      \r\n      this.addsubCategorySubscribe = this.http.put(\"subcategory/update/\"+this.parms_action_id,this.allcategorydata).subscribe((res:any) =>{\r\n        // console.log(\"allcategorydatay\",this.allcategorydata,\"response\",res);\r\n        this.btnloader = false;\r\n        this.commonUtils.presentToast('success', res.message);\r\n        this.router.navigateByUrl('/subcategory-list')\r\n        form.reset();\r\n\r\n        },error =>{\r\n          this.btnloader = false;\r\n          // // console.log(\"error\",error);\r\n          this.commonUtils.presentToast('error', error.error.message);\r\n          // recall category list\r\n      })\r\n    } \r\n    // edit api end\r\n    \r\n  }\r\n  //  form submit end  \r\n  // getcategoryList start\r\n  getcategoryList()\r\n  {\r\n    this.getCategoryListSubscribe = this.http.get(\"category/list?limit=0\").subscribe(\r\n      (res:any) => {\r\n        // console.log(\"res\",res);\r\n        this.categoryslist = res.data\r\n      },\r\n      (error) =>{\r\n        // console.log(\"error\",error);\r\n      })\r\n  }\r\n  // getcategoryList end\r\n      \r\n\r\n  ngsel(e)\r\n  {\r\n\r\n  }\r\n  // ngOnDestroy start\r\n  ngOnDestroy() {\r\n    if(this.addsubCategorySubscribe !== undefined){\r\n      this.addsubCategorySubscribe.unsubscribe();\r\n    }\r\n    if(this.getCategoryListSubscribe !== undefined){\r\n      this.getCategoryListSubscribe.unsubscribe();\r\n    }\r\n    if(this.getsubCategorybyIdSubscribe !== undefined){\r\n      this.getsubCategorybyIdSubscribe.unsubscribe();\r\n    }\r\n    if(this.permissionDataSubscribe !== undefined){\r\n      this.permissionDataSubscribe.unsubscribe();\r\n    }\r\n  }  \r\n  // ngOnDestroy end\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtc3ViY2F0ZWdvcnkucGFnZS5zY3NzIn0= */\";","export default \"<!-- common header show -->\\r\\n<common-header></common-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"page-body\\\">\\r\\n    <div class=\\\"page-wrapper\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <div class=\\\"page-header\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                    <div class=\\\"page-header-left\\\">\\r\\n                        <h3>{{parms_action_name}} Sub category\\r\\n                            <!-- <small>Divatt Admin panel</small> -->\\r\\n                        </h3>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-6\\\">\\r\\n                  <ol class=\\\"breadcrumb float-right\\\">\\r\\n                      <li class=\\\"breadcrumb-item\\\"><a [routerLink]=\\\"'/dashboard'\\\">\\r\\n                              <mat-icon>home</mat-icon>\\r\\n                          </a></li>\\r\\n                      <li class=\\\"breadcrumb-item\\\" >\\r\\n                        Category Management\\r\\n                      </li>\\r\\n                      <li class=\\\"breadcrumb-item active\\\">\\r\\n                        {{parms_action_name}} Sub category\\r\\n                      </li>\\r\\n                  </ol>\\r\\n              </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-layout\\\">\\r\\n      <div class=\\\"form-wrapper\\\">\\r\\n        <div class=\\\"row justify-content-center\\\" *ngIf=\\\"loader\\\"><mat-spinner class=\\\"form-get-loader\\\"></mat-spinner></div>\\r\\n\\r\\n        <div class=\\\"card card-box\\\" *ngIf=\\\"!loader\\\">\\r\\n          <!-- <div class=\\\"card-header\\\">\\r\\n              <div class=\\\"card-header-tittle\\\">\\r\\n                {{parms_action_name}} Sub category\\r\\n              </div>\\r\\n              \\r\\n          </div> -->\\r\\n          <form #subcategory=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmitsubCategoryForm(subcategory)\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <div class=\\\"col-md-6 m-auto\\\">  \\r\\n                <ion-grid>\\r\\n                  <ion-row>\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\"  size-lg=\\\"12\\\">\\r\\n                      <div class=\\\"form-item ngsel\\\">\\r\\n                        <ng-select [items]=\\\"categoryslist\\\" \\r\\n                                bindLabel=\\\"categoryName\\\" \\r\\n                                name=\\\"parentId\\\"\\r\\n                                placeholder=\\\"Select Category\\\"\\r\\n                                bindValue=\\\"id\\\" \\r\\n                                [(ngModel)]=\\\"model.parentId\\\"\\r\\n                                (change)=\\\"ngsel(model.parentId)\\\"\\r\\n                                required>\\r\\n                        </ng-select>\\r\\n                        <label>Select Category </label>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                    <!-- Name -->\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\"  size-lg=\\\"12\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                          <mat-label>Sub category Name</mat-label>\\r\\n                          <input matInput  name=\\\"categoryName\\\" [(ngModel)]=\\\"model.categoryName\\\"  pattern=\\\"\\\\S(.*\\\\S)?\\\" required>\\r\\n                        </mat-form-field>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\"  size-lg=\\\"12\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                          <mat-label>Sub category Description</mat-label>\\r\\n                          <textarea matInput  name=\\\"categoryDescription\\\" [(ngModel)]=\\\"model.categoryDescription\\\" required></textarea>\\r\\n                        </mat-form-field>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                    \\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\"  size-lg=\\\"12\\\">\\r\\n                     <div class=\\\"form-item\\\">\\r\\n                        <div class=\\\"custom-file\\\">\\r\\n                          <input class=\\\"custom-file-input\\\" id=\\\"singleFileUpload\\\" type=\\\"file\\\" name=\\\"imageUrl\\\" accept=\\\"image/*\\\" (change)=\\\"handleInputChange($event)\\\">\\r\\n                          <label class=\\\"custom-file-label\\\" for=\\\"singleFileUpload\\\">Choose img&nbsp;*</label>\\r\\n                          <img [src]=\\\"previewimageSrc\\\"/>\\r\\n                          <input type=\\\"hidden\\\" name=\\\"previewimageSrc\\\" [(ngModel)]=\\\"previewimageSrc\\\" required>\\r\\n\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ion-col>\\r\\n                  </ion-row>\\r\\n                </ion-grid>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"card-footer\\\">\\r\\n              <div></div>\\r\\n              <div>\\r\\n                \\r\\n                <ion-button class=\\\"custom-btn\\\" [ngClass]=\\\"{'disabled' : btnloader}\\\" type=\\\"submit\\\"  [disabled]=\\\"!subcategory.valid\\\">\\r\\n                  <ion-spinner *ngIf=\\\"btnloader\\\" slot=\\\"start\\\" name=\\\"crescent\\\"></ion-spinner>\\r\\n                  Save\\r\\n                </ion-button>\\r\\n                <ion-button color=\\\"danger\\\" [routerLink]=\\\"['/', 'subcategory-list']\\\">\\r\\n                  Cancel\\r\\n                </ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </form>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<!-- common footer show -->\\r\\n<common-footer></common-footer>\\r\\n\";"],"sourceRoot":"webpack:///"}