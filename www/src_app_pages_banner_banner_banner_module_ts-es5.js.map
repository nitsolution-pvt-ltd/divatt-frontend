{"version":3,"sources":["webpack:///src/app/pages/banner/banner/banner-routing.module.ts","webpack:///src/app/pages/banner/banner/banner.module.ts","webpack:///src/app/pages/banner/banner/banner.page.ts","webpack:///src/app/pages/banner/banner/banner.page.scss","webpack:///src/app/pages/banner/banner/banner.page.html"],"names":["routes","path","component","BannerPage","BannerPageRoutingModule","NgModule","imports","RouterModule","exports","BannerPageModule","CommonModule","FormsModule","IonicModule","SharedModule","declarations","activatedRoute","http","router","commonUtils","authService","example","model","imageSrc","previewimageSrc","uploader","commonFunction","currentDate","Date","now","format","getPathNameFun","url","split","parms_action_name","snapshot","paramMap","get","parms_action_id","getBannerById","startDate","endDate","loader","getBannerbyIdSubscribe","subscribe","res","title","description","image","start_Date","end_Date","error","e","file","dataTransfer","files","target","pattern","reader","FileReader","type","match","alert","fd","FormData","append","post","presentToast","message","onload","_handleReaderLoaded","bind","readAsDataURL","result","form","btnloader","addBannerSubscribe","value","navigateByUrl","reset","put","date","identifire","event","_identifier","console","log","undefined","unsubscribe","permissionDataSubscribe","ActivatedRoute","HttpClient","Router","CommonUtils","AuthService","Component","selector","template"],"mappings":"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","file":"src_app_pages_banner_banner_banner_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BannerPage } from './banner.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BannerPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BannerPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BannerPageRoutingModule } from './banner-routing.module';\r\n\r\nimport { BannerPage } from './banner.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    BannerPageRoutingModule\r\n  ],\r\n  declarations: [BannerPage]\r\n})\r\nexport class BannerPageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { CommonUtils } from 'src/app/services/common-utils/common-utils';\r\n\r\n@Component({\r\n  selector: 'app-banner',\r\n  templateUrl: './banner.page.html',\r\n  styleUrls: ['./banner.page.scss'],\r\n})\r\nexport class BannerPage implements OnInit {\r\n  \r\n  loader: boolean;\r\n  example = false;\r\n  currentDate: string;\r\n constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private http:HttpClient,\r\n    private router:Router,\r\n    private commonUtils:CommonUtils,\r\n    private authService: AuthService,\r\n    ) { }\r\n  model: any = {};\r\n  btnloader\r\n  categoryImage: any;\r\n  mobileImage: any;\r\n  allcategorydata: { };\r\n  parms_action_name;\r\n  parms_action_id;\r\n  nofile: boolean;\r\n  imgerror: string;\r\n  private getBannerbyIdSubscribe:Subscription;\r\n  private addBannerSubscribe: Subscription;\r\n  private permissionDataSubscribe: Subscription;\r\n  ngOnInit() {\r\n    \r\n  }\r\n  ionViewWillEnter() {\r\n    this.commonFunction();\r\n  }\r\n  // commonFunction start\r\n  commonFunction()\r\n  {\r\n    let currentDate = Date.now()\r\n    this.currentDate = moment(currentDate).format('YYYY-MM-DD');\r\n    // get active url name\r\n    this.commonUtils.getPathNameFun(this.router.url.split('/')[1]);\r\n    this.parms_action_name = this.activatedRoute.snapshot.paramMap.get('action');\r\n    this.parms_action_id = this.activatedRoute.snapshot.paramMap.get('id');\r\n    \r\n    // console.log('parms_action_name', this.parms_action_name);\r\n    // console.log('parms_action_id', this.parms_action_id);\r\n\r\n    /*Check permission status start*/\r\n    // this.authService.globalparamsData.subscribe(res => {\r\n    //   // console.log('res>>', res);\r\n    //   if(res.authority == 'ADMIN'){\r\n    //     this.permissionDataSubscribe = this.commonUtils.menuPermissionObservable.subscribe(data => {\r\n    //       if(data){\r\n    //         // console.log('menu>>', data);\r\n    //         // console.log('this.router.url>>', this.router.url);\r\n    \r\n    //         let pageUrlName = this.router.url.split(\"/\");\r\n    //         // console.log('pageUrlName', pageUrlName);\r\n            \r\n    //         for(let item of data) {\r\n    //           let moduleUrlName = item.modDetails.url.split(\"-\");\r\n    //           // console.log('moduleUrlName',moduleUrlName);\r\n              \r\n    //           if(pageUrlName[1] == moduleUrlName[0]){\r\n    //             if(this.parms_action_name == 'add' && item.modPrivs.create == true){\r\n    //                // console.log('-----Permission create Granted-----');\r\n\r\n    //               break;\r\n    //             }else if(this.parms_action_name == 'edit' && item.modPrivs.update == true){\r\n    //               // console.log('-----Permission update Granted-----');\r\n    //               this.getBannerById();\r\n    //               break;\r\n    //             }else {\r\n    //               // console.log('-------No Permission--------');\r\n    //               this.router.navigateByUrl('/error');\r\n    //             }\r\n                \r\n    //           }\r\n    //         }\r\n    //       }\r\n    //     })\r\n    //   }else {\r\n    //     this.router.navigateByUrl('/error');\r\n    //   }\r\n    // })\r\n    /*Check permission status end*/\r\n                  this.getBannerById();\r\n\r\n  }\r\n  // commonFunction end\r\n  // getBannerById start\r\n  getBannerById()\r\n  {\r\n    this.model.startDate = null;\r\n    this.model.endDate = null;\r\n    this.loader = true;\r\n    this.getBannerbyIdSubscribe = this.http.get(\"adminMData/getBanner/\"+this.parms_action_id).subscribe(\r\n      (res:any) => {\r\n        // console.log(\"res\",res);\r\n        this.loader = false;\r\n        this.model = {\r\n          title:res.title,\r\n          description:res.description,\r\n          image:res.image,\r\n          url:res.url,\r\n          startDate:res.startDate,\r\n          endDate:res.endDate,\r\n        }\r\n        this.model.start_Date = moment(res.startDate).format('YYYY-MM-DD');\r\n        this.model.end_Date = moment(res.endDate).format('YYYY-MM-DD');\r\n        this.imageSrc = res.image;\r\n        this.previewimageSrc = res.image;\r\n      },\r\n      (error) =>{\r\n        this.loader = false;\r\n        // console.log(\"error\",error);\r\n      })\r\n  }\r\n  // getBannerById end\r\n  /* -----------Image uploading start----------- */\r\n  public imageSrc: string = null;\r\n  public previewimageSrc: string = '';\r\n  public fd;\r\n  uploader = false;\r\n  handleInputChange(e) {\r\n    this.uploader = true;\r\n    var file = e.dataTransfer ? e.dataTransfer.files[0] : e.target.files[0];\r\n    var pattern = /image-*/;\r\n    var reader = new FileReader();\r\n    if (!file.type.match(pattern)) {\r\n      alert('invalid format');\r\n      return;\r\n    }\r\n    \r\n    // console.log(this.imageSrc);\r\n    this.imageSrc = null;\r\n    // this.file = null;\r\n    // this.imageSrc= e.target.files[0];\r\n    var fd = new FormData();  \r\n    fd.append(\"file\", e.target.files[0]);\r\n    this.http.post(\"admin/profile/s3/upload\",fd).subscribe(\r\n      (res:any) => {\r\n        this.imageSrc = res.path;\r\n        this.model.image = res.path;\r\n        // console.log(\"profileimgpath\",this.imageSrc);\r\n        this.uploader = false;\r\n\r\n\r\n        // this.commonUtils.presentToast('success', res.message);\r\n      },\r\n      (error) =>{\r\n        // console.log(\"error\",error);\r\n        this.uploader = false;\r\n\r\n\r\n        this.commonUtils.presentToast('error', error.error.message);\r\n      })\r\n    reader.onload = this._handleReaderLoaded.bind(this);\r\n    reader.readAsDataURL(file);\r\n  }\r\n  _handleReaderLoaded(e) {\r\n    let reader = e.target;\r\n    \r\n      this.previewimageSrc = reader.result;\r\n  }\r\n  /* Image uploading end */\r\n  // onSubmitCategortForm start \r\n  onSubmitbannerForm(form:NgForm)\r\n  {\r\n\r\n    this.btnloader =true;\r\n    // add api start\r\n    if(this.parms_action_name == 'add')\r\n    {\r\n        \r\n        this.addBannerSubscribe = this.http.post('adminMData/addBanner',form.value).subscribe((res:any) =>{\r\n          // console.log(\"allcategorydata\",this.allcategorydata,\"response\",res);\r\n          this.btnloader =false;\r\n         \r\n          this.commonUtils.presentToast('success', res.message);\r\n          this.router.navigateByUrl('/banner-list')\r\n          form.reset();\r\n          this.imageSrc ='';\r\n        },error =>{\r\n            // console.log(error);\r\n            this.btnloader =false;\r\n            this.commonUtils.presentToast('error', error.error.message);\r\n        })\r\n        \r\n    }\r\n    // add api end\r\n    // edit api start\r\n    else if(this.parms_action_name == 'edit')\r\n    {\r\n    \r\n      this.addBannerSubscribe = this.http.put(\"adminMData/updateBanner/\"+this.parms_action_id,form.value).subscribe((res:any) =>{\r\n        // console.log(\"allcategorydatay\",this.allcategorydata,\"response\",res);\r\n        this.btnloader =false;\r\n        \r\n        // window.location.reload();\r\n        this.commonUtils.presentToast('success', res.message);\r\n        this.router.navigateByUrl('/banner-list')\r\n        form.reset();\r\n         },error =>{\r\n          this.btnloader =false;\r\n          this.commonUtils.presentToast('error', error.error.message);\r\n      })\r\n    } \r\n    // edit api end\r\n    \r\n  }\r\n  // onSubmitCategortForm end\r\n  // changeDateFormat\r\n  changeDateFormat(date:any,identifire,event)\r\n  {\r\n    // console.log('event',event.target.value);\r\n    if(event.target.value)\r\n    {\r\n      if(identifire == 'start')\r\n      {\r\n        this.model.startDate = moment(date).format('YYYY/MM/DD');\r\n      }else{\r\n        this.model.endDate = moment(date).format('YYYY/MM/DD');\r\n      }\r\n    }else{\r\n      if(identifire == 'start'){\r\n        this.model.startDate = null;\r\n        this.model.start_Date = null;\r\n        this.model.endDate = null;\r\n        this.model.end_Date = null;\r\n      }\r\n      else{\r\n        this.model.endDate = null;\r\n        this.model.end_Date = null;\r\n      }\r\n     \r\n    }\r\n    \r\n  }\r\n\r\n  dateFormatChange(_identifier, event: MatDatepickerInputEvent<Date>){\r\n    console.log('_identifier', _identifier);\r\n    console.log('_data', event);\r\n    if (_identifier == 'startDate') {\r\n      this.model.startDate = moment(event.value).format('YYYY/MM/DD');\r\n      console.log('this.model.startDate ', this.model.startDate );\r\n    }else if (_identifier == 'endDate') {\r\n      this.model.endDate = moment(event.value).format('YYYY/MM/DD');\r\n      console.log('this.model.endDate ', this.model.endDate );\r\n    }\r\n    \r\n  }\r\n  // changeDateFormat end\r\n  // ngOnDestroy start\r\n  ngOnDestroy() {\r\n    if(this.getBannerbyIdSubscribe !== undefined){\r\n      this.getBannerbyIdSubscribe.unsubscribe();\r\n    }\r\n    if(this.addBannerSubscribe !== undefined){\r\n      this.addBannerSubscribe.unsubscribe();\r\n    }\r\n    if(this.permissionDataSubscribe !== undefined){\r\n      this.permissionDataSubscribe.unsubscribe();\r\n    }\r\n  }  \r\n  // ngOnDestroy end\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJiYW5uZXIucGFnZS5zY3NzIn0= */\";","export default \"<!-- common header show -->\\r\\n<common-header></common-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"page-body\\\">\\r\\n    <div class=\\\"page-wrapper\\\">\\r\\n      <div class=\\\"form-layout\\\">\\r\\n        <div class=\\\"form-wrapper\\\">\\r\\n          <div class=\\\"container-fluid\\\">\\r\\n            <div class=\\\"page-header\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-6\\\">\\r\\n                        <div class=\\\"page-header-left\\\">\\r\\n                            <h3>{{parms_action_name}} banner\\r\\n                                <!-- <small>Divatt Admin panel</small> -->\\r\\n                            </h3>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-6\\\">\\r\\n                      <ol class=\\\"breadcrumb float-right\\\">\\r\\n                          <li class=\\\"breadcrumb-item\\\"><a [routerLink]=\\\"'/dashboard'\\\">\\r\\n                                  <mat-icon>home</mat-icon>\\r\\n                              </a></li>\\r\\n                          <li class=\\\"breadcrumb-item\\\">\\r\\n                            Banner List\\r\\n                          </li>\\r\\n                          <li class=\\\"breadcrumb-item active\\\">\\r\\n                            {{parms_action_name}} banner\\r\\n                          </li>\\r\\n                      </ol>\\r\\n                  </div>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row justify-content-center\\\" *ngIf=\\\"loader\\\"><mat-spinner class=\\\"form-get-loader\\\"></mat-spinner></div>\\r\\n          <div class=\\\"card card-box\\\" *ngIf=\\\"!loader\\\">\\r\\n            <!-- <div class=\\\"card-header\\\">\\r\\n                <div class=\\\"card-header-tittle\\\">\\r\\n                  {{parms_action_name}} Banner\\r\\n                </div>\\r\\n                \\r\\n            </div> -->\\r\\n            \\r\\n            <form action=\\\"\\\" #banner=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmitbannerForm(banner)\\\" >\\r\\n              <div class=\\\"card-body\\\">\\r\\n                    <ion-grid>\\r\\n                      <ion-row>\\r\\n                        <!-- Name -->\\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\"  size-lg=\\\"3\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                              <mat-label>Banner title</mat-label>\\r\\n                              <input matInput  name=\\\"title\\\" [(ngModel)]=\\\"model.title\\\" required pattern=\\\"\\\\S(.*\\\\S)?\\\">\\r\\n                            </mat-form-field>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\"  size-lg=\\\"3\\\">\\r\\n                          <div class=\\\"form-item mt-3\\\">\\r\\n                            <div class=\\\"custom-file preview\\\">\\r\\n                              <input type=\\\"hidden\\\" name=\\\"image\\\" [(ngModel)] = \\\"model.image\\\" required>\\r\\n                              <input class=\\\"custom-file-input\\\" id=\\\"singleFileUpload\\\" type=\\\"file\\\" name=\\\"imageUrl\\\" accept=\\\"image/*\\\" (change)=\\\"handleInputChange($event)\\\">\\r\\n                              <label class=\\\"custom-file-label\\\" for=\\\"singleFileUpload\\\">Banner Img</label>\\r\\n                              <img [src]=\\\"imageSrc != null ? imageSrc : 'assets/images/nobanner.jpg'\\\" *ngIf=\\\"!uploader\\\"/>\\r\\n                              <div class=\\\"text-black d-flex\\\" *ngIf=\\\"uploader\\\">Uploading&nbsp;<ion-spinner name=\\\"dots\\\"  class=\\\"text-black\\\"></ion-spinner></div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\"  size-lg=\\\"3\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <!-- <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                              <mat-label>Start Date</mat-label>\\r\\n                              <input matInput type=\\\"date\\\"  name=\\\"start_Date\\\" [required]=\\\"model.start_Date\\\" [(ngModel)] = \\\"model.start_Date\\\" [min]=\\\"currentDate\\\" (change)=\\\"changeDateFormat(model.start_Date,'start',$event)\\\" >\\r\\n                            </mat-form-field> -->\\r\\n\\r\\n                            <mat-form-field appearance=\\\"outline\\\">\\r\\n                              <mat-label>Start Date</mat-label>\\r\\n                              <input matInput (dateChange)=\\\"dateFormatChange('startDate', $event)\\\" (dateInput)=\\\"dateFormatChange('startDate', $event)\\\" [min]=\\\"currentDate\\\" [matDatepicker]=\\\"startDate\\\" placeholder=\\\"{{model.startDate}}\\\" name=\\\"start_Date\\\" [(ngModel)]=\\\"model.start_Date\\\" readonly>\\r\\n                              <mat-datepicker-toggle matSuffix [for]=\\\"startDate\\\"></mat-datepicker-toggle>\\r\\n                              <mat-datepicker #startDate></mat-datepicker>\\r\\n                            </mat-form-field>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                        <input type=\\\"hidden\\\" name=\\\"startDate\\\" [(ngModel)]=\\\"model.startDate\\\">\\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\"  size-lg=\\\"3\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <!-- <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                              <mat-label>End Date</mat-label>\\r\\n                              <input matInput type=\\\"date\\\"  name=\\\"end_Date\\\" required [disabled]=\\\"!model.start_Date\\\" [(ngModel)] = \\\"model.end_Date\\\" [min]=\\\"model.start_Date\\\" (change)=\\\"changeDateFormat(model.end_Date,'end',$event)\\\" >\\r\\n                            </mat-form-field> -->\\r\\n\\r\\n                            <mat-form-field appearance=\\\"outline\\\">\\r\\n                              <mat-label>End Date</mat-label>\\r\\n                              <input matInput (dateChange)=\\\"dateFormatChange('endDate', $event)\\\" (dateInput)=\\\"dateFormatChange('endDate', $event)\\\" required [disabled]=\\\"!model.startDate\\\" [min]=\\\"model.start_Date\\\" [matDatepicker]=\\\"endDate\\\" placeholder=\\\"{{model.endDate}}\\\" name=\\\"end_Date\\\" [(ngModel)]=\\\"model.end_Date\\\" readonly>\\r\\n                              <mat-datepicker-toggle matSuffix [for]=\\\"endDate\\\"></mat-datepicker-toggle>\\r\\n                              <mat-datepicker #endDate></mat-datepicker>\\r\\n                            </mat-form-field>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                        <input type=\\\"hidden\\\" name=\\\"endDate\\\" [(ngModel)]=\\\"model.endDate\\\">\\r\\n                      </ion-row>\\r\\n                      <ion-row>\\r\\n                        \\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\"  size-lg=\\\"6\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                              <mat-label>Banner Description</mat-label>\\r\\n                              <textarea matInput  name=\\\"description\\\" rows=\\\"4\\\" [(ngModel)] = \\\"model.description\\\" ></textarea>\\r\\n                            </mat-form-field>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                        \\r\\n                        <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\"  size-lg=\\\"6\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <mat-form-field class=\\\"example-full-width\\\" appearance=\\\"outline\\\">\\r\\n                              <mat-label>Banner url</mat-label>\\r\\n                              <input matInput  name=\\\"url\\\" [(ngModel)] = \\\"model.url\\\" placeholder=\\\"https://dev.divatt.com/divatt/designer-list/all\\\" pattern=\\\"\\\\S(.*\\\\S)?\\\">\\r\\n                              <!-- <mat-icon matSuffix (click)=\\\"example = !example;\\\" class=\\\"cursor-pointer text-dark\\\">info</mat-icon> -->\\r\\n                            </mat-form-field>\\r\\n                          </div>\\r\\n                        </ion-col>\\r\\n                      </ion-row>\\r\\n                    </ion-grid>\\r\\n              </div>\\r\\n              <div class=\\\"card-footer\\\">\\r\\n                <div></div>\\r\\n                <div>\\r\\n                  <ion-button class=\\\"custom-btn\\\" [ngClass]=\\\"{'disabled' : btnloader}\\\" type=\\\"submit\\\"  [disabled]=\\\"!banner.valid\\\">\\r\\n                    <ion-spinner *ngIf=\\\"btnloader\\\" slot=\\\"start\\\" name=\\\"crescent\\\"></ion-spinner>\\r\\n                    {{parms_action_name == 'add' ? 'Save' : 'Update'}}\\r\\n                  </ion-button>\\r\\n                  <ion-button color=\\\"danger\\\" [routerLink]=\\\"['/', 'banner-list']\\\">\\r\\n                    Cancel\\r\\n                  </ion-button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </form>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<!-- common footer show -->\\r\\n<common-footer></common-footer>\\r\\n\";"]}